# 优先队列（PriorityQueue）

### 什么是优先队列

普通队列：先进先出，后进后出

优先队列：出队顺序和入队顺序无关，和优先级有关



### 优先队列的应用

操作系统任务队列，动态选择优先级最高的任务执行



### 优先队列的实现

#### 普通线性结构

入队：O(1)

出队：O(n) => 需要扫描优先级



#### 顺序线性结构

入队：O(n) => 入队时需要根据优先级排序

出队：O(1)



#### 堆

入队：O(logn)

出队：O(logn)





### 二叉堆

二叉堆是一颗完全二叉树

堆中某个节点的值总是不大于其父节点的值，又名最大堆

一般来说，可以用数组存储二叉堆，此时对应的索引：

```js
parent(i) = i / 2  => 第i个节点的父亲节点是i/2(整数除法，只去整数)
left child (i) = 2 * i => 第i个左节点
right child (i) = 2 * i + 1
```

注意：此时index从1开始，0位置为空

如何从0开始？

只需要对i进行一波偏移：

```js
parent(i) = (i - 1) / 2
left child(i) = 2 * i + 1
right child(i) = 2 * i + 2
```

